# Array数组
PHP 中的数组实际上是一个有序映射。映射是一种把 values 关联到 keys 的类型。  
此类型在很多方面做了优化，因此可以把它当成真正的数组，或列表（向量），散列表（是映射的一种实现），字典，集合，栈，队列以及更多可能性。  
由于数组元素的值也可以是另一个数组，树形结构和多维数组也是允许的。  

语法：  
```php
array(  key =>  value
  , ...
)
// 键（key）可是是一个整数 integer 或字符串 string
// 值（value）可以是任意类型的值
```

Example #1 一个简单的数组  
```php
<?php
$array = array(
    "foo" => "bar",
    "bar" => "foo",
);

// 自 PHP 5.4 起
$array = [
    "foo" => "bar",
    "bar" => "foo",
];
?>
```

此外 key 会有如下的强制转换：
* 包含有合法整型值的字符串会被转换为整型。例如键名 "8" 实际会被储存为 8。但是 "08" 则不会强制转换，因为其不是一个合法的十进制数值。
* 浮点数也会被转换为整型，意味着其小数部分会被舍去。例如键名 8.7 实际会被储存为 8。
* 布尔值也会被转换成整型。即键名 true 实际会被储存为 1 而键名 false 会被储存为 0。
* Null 会被转换为空字符串，即键名 null 实际会被储存为 ""。
* 数组和对象不能被用为键名。坚持这么做会导致警告：Illegal offset type。

**如果在数组定义中多个单元都使用了同一个键名，则只使用了最后一个，之前的都被覆盖了。**  

Example #2 强制转换和覆盖
```php
<?php
$array = array(
    1    => "a",
    "1"  => "b",
    1.5  => "c",
    true => "d",
);
var_dump($array);
?>
```
输出：  
```
array(1) {
  [1]=>
  string(1) "d"
}
```

PHP 数组可以同时含有 integer 和 string 类型的键名，因为 PHP 实际并不区分索引数组和关联数组。  
如果对给出的值没有指定键名，则取当前最大的整数索引值，而新的键名将是该值加一。如果指定的键名已经有了值，则该值会被覆盖。  

Example #3 混合int和string键名
```php
<?php
$array = array(
    "foo" => "bar",
    "bar" => "foo",
    100   => -100,
    -100  => 100,
);
var_dump($array);
?>
```
输出：  
```
array(4) {
  ["foo"]=>
  string(3) "bar"
  ["bar"]=>
  string(3) "foo"
  [100]=>
  int(-100)
  [-100]=>
  int(100)
}
```

