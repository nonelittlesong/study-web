# 一、 事件流
### 1. 事件冒泡
事件由子元素向父元素传递。  

### 2. 事件捕获
事件由父元素向子元素传递。  

### 3. DOM事件流
事件流包括三个阶段：  
1. 事件捕获阶段
2. 处于目标阶段
3. 事件冒泡阶段

# 二、 事件处理程序
### 1. HTML事件处理程序（不建议用）  
不能使用未经转义的HTML语法：  
```
<input type="button" value="Click Me" onclick="alert('Clicked')" />
<input type="button" value="Click Me" onclick="alert('Clicked')" />
```
event：  
```
<input type="button" value="Click Me" onclick="alert(event.type)" />
```
this:  
```
<input type="button" value="Click Me" onclick="alert(this.value)" />
```
关于这个动态创建的onclick函数，另一个有意思的地方是它扩展作用域的方式。在这个函数内部，可以像访问局部变量一样访问document及该元素本身的成员。  
这个函数使用with像下面这样扩展作用域：  
```js
function() {
  with(document) {
    with(this) {
      // 元素属性至
    }
  }
}
```
因此，可以省略this： `onclick="alert(value)"`。  

如果是表单元素，有：  
```
function() {
  with(document) {
    with(this.form) {
      with(this) {
        // 元素属性至
      }
    }
  }
}

<form method="post>
  <input type="text" name="username" value=""/>
  <input type="button" value="Echo Username" onclick="alert(username.value)" />
</form>
```

**缺点**:  
1. 用户可能在元素未加载完全是触发事件。  
2. 扩展事件处理程序的作用域链在不同浏览器中有不同的结果。

### 2. DOM0事件处理程序
绑定事件：  
```js
var btn = document.getElementById("myBtn");
btn.onclick = function() {
  alert(this.id);
}
```
解绑：  
```js
btn.onclick = null;
```
这种方式也会将HTML事件处理程序解绑。  

### 3. DOM2级事件处理程序
addEventListener()和removeEventListener（）。  
接受3个参数：  
1. 事件名
2. 函数，事件处理程序
3. true表示在捕获阶段调用函数，false表示在冒泡阶段处理函数。  

**可以添加多个事件处理程序，按照添加顺序执行。**  

通过addEventListener()添加的事件处理程序只能通过removeEventListener()移除。这意味着**匿名函数**。  

### 4. IE事件处理程序
attachEvent()和detachEvent()。  
接受两个参数：事件名和事件处理函数。  
click事件中，attachEvent()的第一个参数是"onclick",而非DOM的addEventListener()中的"click"。  
attachEvent的作用域是全局作用域，而DOM0是其所属元素。  
attachEvent也可以添加多个事件处理程序，调用顺序与添加顺序相反。  

### 5. 跨浏览器的事件处理程序
addhandler():  

# 三、 事件对象
### 1. DOM中的事件对象
event:  

| 属性/方法 | 类型 | 读/写 | 说明 |
| --- | --- | --- | --- |
| bubbles | Bollean | 只读 | 说明事件是否冒泡 |
| cancelable | Bollean | 只读 | 表明是否可以取消事件的默认行为 |
| currentTarget | Element | 只读 | 其事件处理程序当前正在处理事件的那个元素 |
| defaultPrevented | Boolean | 只读 | 为true表示已经调用了preventDefault() |
| detail | Integer | 只读 | 与事件相关的细节信息 |
| eventPhase | Integer
